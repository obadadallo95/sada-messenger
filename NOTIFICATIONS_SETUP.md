# ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุญููุฉ - Sada

ุชู ุจูุงุก ูุธุงู ุฅุดุนุงุฑุงุช ูุญููุฉ ูุงูู ููุชุทุจูู ูุฏุนู ุงูุฅุดุนุงุฑุงุช ุงููุญููุฉ ูุงูุฅุดุนุงุฑุงุช ุฏุงุฎู ุงูุชุทุจูู.

## โ ุงูููููุงุช ุงูููุฌุฒุฉ

### 1. ุงูุชุจุนูุงุช
- `flutter_local_notifications`: ููุฅุดุนุงุฑุงุช ุงููุญููุฉ
- `timezone`: ููุฌุฏููุฉ (ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงููุณุชูุจูู)
- `flash`: ููุฅุดุนุงุฑุงุช ุฏุงุฎู ุงูุชุทุจูู (ุบูุฑ ูุณุชุฎุฏู ุญุงููุงูุ ุชู ุจูุงุก ุญู ูุฎุตุต)

### 2. NotificationService (`lib/core/services/notification_service.dart`)
- **ุชููุฆุฉ ูุงููุฉ**: Android ู iOS
- **ููุงุฉ Android**: "Sada Messages" ุจุฃูููุฉ ุนุงููุฉ
- **ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช**: ุฏุนู Android 13+ (POST_NOTIFICATIONS)
- **ุนุฑุถ ุงูุฅุดุนุงุฑุงุช**: ูุน payload ููุชููู
- **ูุนุงูุฌุฉ ุงูููุฑ**: ุงูุชููู ุงูุชููุงุฆู ุฅูู ุงููุญุงุฏุซุฉ

### 3. In-App Notifications (`lib/core/widgets/in_app_notification.dart`)
- **ุจุทุงูุฉ ูุฎุตุตุฉ**: ุชูุฒูู ูู ุงูุฃุนูู ุนูุฏ ูุตูู ุฑุณุงูุฉ
- **ุชุตููู ุฌููู**: ูุชูุงูู ูุน ุซูู Teal/Dark
- **ุชูุงุนู**: ูููู ุงูููุฑ ููุชููู ุฃู ุงูุณุญุจ ููุฅุบูุงู
- **Overlay Helper**: `InAppNotificationOverlay` ูุฅุฏุงุฑุฉ ุงูุนุฑุถ

### 4. ุงูุชูุงูู
- **ุชููุฆุฉ ุชููุงุฆูุฉ**: ูู `app.dart`
- **ุฑุจุท GoRouter**: ููุชููู ูู ุงูุฅุดุนุงุฑุงุช
- **ุฒุฑ ูุญุงูุงุฉ**: ูู `HomeScreen` ูุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช

## ๐ฑ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ

### Android (`AndroidManifest.xml`)
```xml
<uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
```
โ ุชูุช ุงูุฅุถุงูุฉ ุชููุงุฆูุงู

### iOS (`Info.plist`)
ูุง ูุญุชุงุฌ ุชุนุฏููุงุช ุฅุถุงููุฉ - ุงูุตูุงุญูุงุช ุชุทูุจ ุชููุงุฆูุงู ุนูุฏ ุฃูู ุฅุดุนุงุฑ.

## ๐งช ุงูุงุฎุชุจุงุฑ

### ูุญุงูุงุฉ ุฑุณุงูุฉ ูุงุฑุฏุฉ:
1. ุงูุชุญ ุงูุชุทุจูู
2. ุงุถุบุท ุนูู ุฃููููุฉ ุงูุฅุดุนุงุฑุงุช ูู `HomeScreen` (ุฃุนูู ุงููููู)
3. ุงูุชุธุฑ 3 ุซูุงู (ูุญุงูุงุฉ ุชุฃุฎูุฑ ุงูุดุจูุฉ)
4. **ุฅุฐุง ุงูุชุทุจูู ูู ุงูููุฏูุฉ**: ุณูุธูุฑ ุฅุดุนุงุฑ ุฏุงุฎู ุงูุชุทุจูู
5. **ุฅุฐุง ุงูุชุทุจูู ูู ุงูุฎูููุฉ**: ุณูุธูุฑ ุฅุดุนุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ุงูุชููู:
- ุงุถุบุท ุนูู ุงูุฅุดุนุงุฑ (ุณูุงุก ุฏุงุฎู ุงูุชุทุจูู ุฃู ุงููุธุงู)
- ุณูุชู ุงูุชููู ุชููุงุฆูุงู ุฅูู ุงููุญุงุฏุซุฉ

## ๐ง ุงูุงุณุชุฎุฏุงู ูู ุงูููุฏ

### ุนุฑุถ ุฅุดุนุงุฑ:
```dart
final notificationService = ref.read(notificationServiceProvider);
await notificationService.showChatNotification(
  id: 123,
  title: 'Sarah',
  body: 'Hello!',
  payload: 'chat_123', // chatId ููุชููู
);
```

### ุฅุดุนุงุฑ ุฏุงุฎู ุงูุชุทุจูู:
```dart
InAppNotificationOverlay.show(
  context: context,
  title: 'Sarah',
  body: 'Hello!',
  chatId: 'chat_123',
  avatarColor: Colors.teal,
);
```

## ๐ ููุงุญุธุงุช

1. **Android 13+**: ูุชุทูุจ ุตูุงุญูุฉ `POST_NOTIFICATIONS` ุตุฑูุญุฉ
2. **iOS**: ูุทูุจ ุงูุตูุงุญูุงุช ุชููุงุฆูุงู ุนูุฏ ุฃูู ุฅุดุนุงุฑ
3. **Foreground Detection**: ูุณุชุฎุฏู `AppLifecycleState` ููุชุญูู ูู ุญุงูุฉ ุงูุชุทุจูู
4. **Navigation**: ูุณุชุฎุฏู `GoRouter` ููุชููู ูู ุงูุฅุดุนุงุฑุงุช

## โ ุงูุญุงูุฉ

ุฌููุน ุงูููููุงุช ุฌุงูุฒุฉ ููุชูุงููุฉ! ุงููุธุงู ูุฏุนู:
- โ ุงูุฅุดุนุงุฑุงุช ุงููุญููุฉ (Background)
- โ ุงูุฅุดุนุงุฑุงุช ุฏุงุฎู ุงูุชุทุจูู (Foreground)
- โ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- โ ุงูุชููู ุงูุชููุงุฆู
- โ ุฒุฑ ุงููุญุงูุงุฉ ููุงุฎุชุจุงุฑ

